"use strict";(self.webpackChunkarmory=self.webpackChunkarmory||[]).push([[590],{5590:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var i=n(4942),a=n(2982),s=n(1413),o=n(885),r=n(2791),c=n(364),u=n(7947),d=n(6871),l=n(1746),m=n(4225),h=n(5136),f=n(1085),p=n(5671),_=n(3144),y=n(136),b=n(7277),g=function(){function e(t,n){(0,p.Z)(this,e),this._createdAt=new Date,this._createdBy="",this._updatedAt=new Date,this._updatedBy="",this._createdAt=t,this._createdBy=n,this._updatedAt=t,this._updatedBy=n}return(0,_.Z)(e,[{key:"createdAt",get:function(){return this._createdAt},set:function(e){this._createdAt=e}},{key:"createdBy",get:function(){return this._createdBy},set:function(e){this._createdBy=e}},{key:"updatedAt",get:function(){return this._updatedAt},set:function(e){this._updatedAt=e}},{key:"updatedBy",get:function(){return this._updatedBy},set:function(e){this._updatedBy=e}}]),e}(),v=n(2810),C=n(8683),x=function(e){(0,y.Z)(n,e);var t=(0,b.Z)(n);function n(e){var i;return(0,p.Z)(this,n),(i=t.call(this,e?e.createdAt:new Date,e?e.createdBy:""))._armamentCategory=void 0,i._componentName=void 0,i._descriptor=void 0,i._displayName=void 0,i._index=void 0,i._left=void 0,i._meta=void 0,i._name=void 0,i._owner=void 0,i._state=void 0,i._top=void 0,i._uuid=void 0,i._visibility=void 0,i._armamentCategory=e?e.armamentCategory:"",i._componentName=e?e.componentName:"",i._descriptor=new w(e?e.descriptor:{}),i._displayName=e?e.displayName:"",i._index=e?e.index:-1,i._left=e?e.left:0,i._meta=new k(e?e.meta:{}),i._name=e?e.name:"",i._owner=e?e.owner:"",i._state=e?e.state:"",i._top=e?e.top:"",i._uuid=e?e.uuid:"",i._visibility=e?e.visibility:"private",i}return(0,_.Z)(n,[{key:"createContainer",value:function(e){var t=(0,v.Z)(),n=e.username,i=new k({tags:["Container"],createdBy:n});return this.componentName="Container-"+n+"--"+t,this.displayName="Container-"+n,this.owner=n,this.state="DRAFT",this.visibility="public",this.meta=i,this.createdBy=n,this.save()}},{key:"save",value:function(){var e=this,t={};return Object.keys(this).forEach((function(n){if("__proto__"!==n&&n.startsWith("_")){var i=n.substring(1);t[i]=e[n]}})),C.Z.post("/api/armory?withContainer=true",t)}},{key:"armamentCategory",get:function(){return this._armamentCategory},set:function(e){this._armamentCategory=e}},{key:"componentName",get:function(){return this._componentName},set:function(e){this._componentName=e}},{key:"descriptor",get:function(){return this._descriptor},set:function(e){this._descriptor=e}},{key:"displayName",get:function(){return this._displayName},set:function(e){this._displayName=e}},{key:"index",get:function(){return this._index},set:function(e){this._index=e}},{key:"left",get:function(){return this._left},set:function(e){this._left=e}},{key:"meta",get:function(){return this._meta},set:function(e){this._meta=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"owner",get:function(){return this._owner},set:function(e){this._owner=e}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}},{key:"top",get:function(){return this._top},set:function(e){this._top=e}},{key:"uuid",get:function(){return this._uuid},set:function(e){this._uuid=e}},{key:"visibility",get:function(){return this._visibility},set:function(e){this._visibility=e}}]),n}(g),w=function(){function e(t){(0,p.Z)(this,e),this._allowChildren=void 0,this._children=void 0,this._classes=void 0,this._defaultWidth=void 0,this._defaultHeight=void 0,this._elemType=void 0,this._styles=void 0,this._allowChildren=!!t&&t.allowChildren,this._children=t?t.children:[],this._classes=t?t.classes:"bg-grey border-default",this._defaultWidth=t?t.defaultWidth:"20rem",this._defaultHeight=t?t.defaultHeight:"15rem",this._elemType=t?t.elemType:"div",this._styles=t?t.styles:{}}return(0,_.Z)(e,[{key:"allowChildren",get:function(){return this._allowChildren},set:function(e){this._allowChildren=e}},{key:"children",get:function(){return this._children},set:function(e){this._children=e}},{key:"classes",get:function(){return this._classes},set:function(e){this._classes=e}},{key:"defaultWidth",get:function(){return this._defaultWidth},set:function(e){this._defaultWidth=e}},{key:"defaultHeight",get:function(){return this._defaultHeight},set:function(e){this._defaultHeight=e}},{key:"elemType",get:function(){return this._elemType},set:function(e){this._elemType=e}},{key:"styles",get:function(){return this._styles},set:function(e){this._styles=e}}]),e}(),k=(n(6008),function(){function e(t){(0,p.Z)(this,e),this._tags=void 0,this._createdBy=void 0,this._tags=t?t.tags:[],this._createdBy=t?t.createdBy:""}return(0,_.Z)(e,[{key:"tags",get:function(){return this._tags},set:function(e){this._tags=e}},{key:"createdBy",get:function(){return this._createdBy},set:function(e){this._createdBy=e}}]),e}()),N=n(8216),j={ADMIN_ACTIONS:{containerClasses:"col mx-auto mb-5",sectionClasses:"c-Dashboard__main__admin mx-auto",protected:!0,parts:[{name:"AdminHeader",type:"header",classes:"section-header w-100 mb-0",text:"Armory Management"},{name:"ManageComponents",type:"button",classes:"c-Dashboard__btn raised-effect mx-auto col-7 mt-5 mb-4",text:"Manage Components",visibility:"visible",order:0,icon:"fc.FcFolder",leftSnapped:!0,tooltip:"Manage Components",subOptions:[{name:"AddCoreComponent",type:"button",classes:"c-Dashboard__btn col-12 my-3 raised-effect font-size-12",text:"Add a Core Component",visibility:"hidden",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/manage/component/add"))}},{name:"UpdateCoreComponent",type:"button",classes:"c-Dashboard__btn col-12 mb-3 raised-effect font-size-12",text:"Update a Core Component",visibility:"hidden",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/manage/component/update"))}}],action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/manage/component"))}},{name:"ManagePages",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mt-5 mb-4",text:"Manage Pages",visibility:"visible",order:1,icon:"fi.FiMaximize",tooltip:"Manage Pages",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/manage/page"))}},{name:"ManageProjects",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mt-5 mb-4",text:"Manage Projects",visibility:"visible",order:2,icon:"ai.AiOutlineEdit",tooltip:"Manage Projects",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/manage/project"))}}]},RESUMPTION_ACTIONS:{containerClasses:"col",sectionClasses:"c-Dashboard__main__resume mx-auto",parts:[{name:"ResumptionHeader",type:"header",classes:"section-header w-100 mb-0",text:"Let's resume where your left..."},{name:"MyComponents",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mt-5 mb-4",text:"My Components",visibility:"visible",order:0,icon:"fc.FcFolder",leftSnapped:!0,tooltip:"My Components",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/component"))}},{name:"MyPages",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mt-5 mb-4",text:"My Pages",visibility:"visible",order:1,icon:"fi.FiMaximize",tooltip:"My Pages",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/page"))}},{name:"MyProjects",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mt-5 mb-4",text:"My Projects",visibility:"visible",order:2,icon:"ai.AiOutlineEdit",tooltip:"My Projects",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/project"))}}]},NEW_ACTIONS:{containerClasses:"col",sectionClasses:"c-Dashboard__main__buttons mx-auto",parts:[{name:"ResumptionHeader",type:"header",classes:"section-header w-100 mb-0",text:"...Or select one of the options below"},{name:"CreateProject",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mb-5 mt-4",text:"Create a Project",visibility:"visible",order:0,icon:"fc.FcFolder",leftSnapped:!0,tooltip:"Create a Project",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/project"))}},{name:"CreatePage",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mb-5",text:"Create a Page Template",visibility:"visible",order:1,icon:"fi.FiMaximize",tooltip:"Create a Page Template",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/page"))}},{name:"CreateComponent",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mb-5",text:"Create a Rich Component",visibility:"visible",order:2,icon:"ai.AiOutlineEdit",tooltip:"Create a Rich Component",action:function(e,t,n,i,a,s){(new x).createContainer(s).then((function(o){N._.generateContainer({componentsConfig:e,config:o.body.record,userDetails:s,dispatchComponentsConfig:t,dispatchSelectedComponent:i,dispatchLevels:n}),a("/".concat(s.username,"/component"))}))}},{name:"OptionSeparator",type:"p",classes:"option-separator col-6 mx-auto mb-5",text:"Or"},{name:"ExistingTemplate",type:"button",classes:"c-Dashboard__btn col-7 raised-effect mx-auto mb-5",text:"Use an existing template",visibility:"visible",order:2,icon:"ai.AiOutlineEdit",tooltip:"Use an existing template",action:function(e,t,n,i,a,s){return a("/".concat(s.username,"/template"))}}]}},D=n(184),M=(0,u.iJ)({componentsConfig:m.K4,userDetails:l.M_}),A={dispatchComponentsConfig:f.EZ,dispatchLevels:h.a$,dispatchSelectedComponent:f.iA},Z=(0,c.$j)(M,A)((function(e){var t=e.componentsConfig,n=e.dispatchComponentsConfig,c=e.dispatchLevels,u=e.dispatchSelectedComponent,l=e.userDetails,m=(0,r.useState)({}),h=(0,o.Z)(m,2),f=h[0],p=h[1],_=(0,d.s0)(),y=l?l.firstname:"",b=j?(0,s.Z)({},j):{},g=Object.keys(b).map((function(e){var o=(0,s.Z)({},b[e]);b[e]=o;var r=!o.protected||l&&l.role&&"alpha"===l.role,d=(0,a.Z)(o.parts);o.parts=d;var m=d&&d.find((function(e){return"header"===e.type}));d&&d.splice(d.findIndex((function(e){return"header"===e.type})),1);var h=function(e,i){return(0,D.jsx)("div",{className:"col-7 offset-4",children:(0,D.jsx)("div",{className:"row m-2 p-2 sub-option".concat(i?"":" unhovered"),children:e.subOptions.map((function(e){return(0,D.jsx)("button",{className:e.classes,onClick:function(){return e.action(t,n,c,u,_,l)},children:e.text})}))})})};return r&&(0,D.jsx)("div",{className:"c-Dashboard__panel__container "+o.containerClasses,children:(0,D.jsx)("div",{className:o.sectionClasses,children:(0,D.jsxs)("div",{className:"h-100 d-flex bg-white flex-column",children:[m&&(0,D.jsx)("p",{className:m.classes,children:m.text}),(0,D.jsx)("div",{className:"c-Dashboard__actions w-100",children:d&&d.map((function(e){switch(e.type){case"p":return(0,D.jsx)("p",{className:e.classes,children:e.text});case"button":var a=f&&f[e.name];return(0,D.jsx)("div",{className:"c-Dashboard__action col-12",children:(0,D.jsxs)("div",{className:"row ms-0",onClick:function(){return e.action(t,n,c,u,_,l)},onMouseOver:function(){return p((0,s.Z)((0,s.Z)({},f),{},(0,i.Z)({},e.name,!0)))},onMouseLeave:function(){return p((0,s.Z)((0,s.Z)({},f),{},(0,i.Z)({},e.name,!1)))},children:[(0,D.jsx)("button",{className:"".concat(e.classes," my-auto"),children:e.text}),e.subOptions&&h(e,a)]})});default:return null}}))})]})})})}));return(0,D.jsx)("div",{className:"c-Dashboard d-flex flex-column h-100",children:(0,D.jsxs)("main",{className:"c-Dashboard__main p-4 mb-5overflow-auto text-center flex-grow-1",children:[(0,D.jsxs)("h4",{className:"page-header bg-white text-start",children:["Welcome ",y,"!"]}),(0,D.jsx)("div",{className:"content row mt-3",children:g})]})})}))}}]);
//# sourceMappingURL=590.49169c68.chunk.js.map