"use strict";(self.webpackChunkarmory=self.webpackChunkarmory||[]).push([[69],{4069:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var o=n(885),i=n(2791),s=(n(8890),n(364)),c=n(7947),r=n(9542),d=n(7209),l=n(225),a=n(2426),p=n(1746),u=n(4225),m=n(1085),f=n(4073);var C,g=function(e,t,n){var o=0,i=0,s=0,c=0,r=document.getElementById(t)||e&&(document.getElementById(e.id+"header")||e);function d(t){n(!0),t.preventDefault(),(t=t||window.event).preventDefault(),o=s-t.clientX,i=c-t.clientY,s=t.clientX,c=t.clientY,e.style.top=e.offsetTop-i+"px",e.style.left=e.offsetLeft-o+"px"}function l(){setTimeout((function(){return n(!1)}),100),document.onmouseup=null,document.onmousemove=null}r&&(r.onmousedown=function(e){(e=e||window.event).preventDefault(),s=e.clientX,c=e.clientY,document.onmouseup=l,document.onmousemove=d})},h=n(1296),v=n(7310),x=n(1831),w=n(184);function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];C=t}var D=(0,c.iJ)({componentConfig:u.K4,isMobile:p.tq,selectedComponent:u.Dz,toggles:p.E9,user:p.M_}),j={dispatchComponentsConfig:m.EZ,dispatchSelectedComponent:m.iA},k=(0,s.$j)(D,j)((function(e){var t=e.componentConfig,n=e.dispatchComponentsConfig,s=e.dispatchSelectedComponent,c=e.isMobile,p=e.selectedComponent,u=e.toggles,m=e.user,D=(0,i.useState)({}),j=(0,o.Z)(D,2),k=j[0],M=j[1],b=(0,i.useState)(null),S=(0,o.Z)(b,2),W=S[0],E=S[1],A=(0,i.useState)(!1),I=(0,o.Z)(A,2),Z=I[0],L=I[1],K=v.Wt.debounce(y),R=(0,h.Z)({socket:W}),_=R.handleKeyDown,P=R.handleKeyUp,T=R.handleOnClick,z=(0,i.useRef)(null),B=c?l.zr:d.PD,X=u&&u.find((function(e){return"developerMode"===e.name})),Y=u&&u.find((function(e){return"layout"===e.name})),G=X&&X.selected;return(0,i.useEffect)((function(){if(!W){var e=x.Z.HOST.production,t=(0,a.ZP)(e);return E(t),function(){return t.close()}}}),[W]),(0,i.useEffect)((function(){Y&&Y.selected&&g(document.getElementById("i-WidgetContainer"),"i-WidgetContainer__accordion-handle",L)}),[Y]),(0,i.useEffect)((function(){}),[]),(0,w.jsx)(r.W,{debugMode:!0,backend:B,children:(0,w.jsxs)("div",{className:"c-ComponentCreator d-flex flex-column flex-nowrap h-100",children:[(0,w.jsxs)("main",{className:"c-ComponentCreator__content d-flex flex-row flex-nowrap ".concat(G?" developer-mode":""),tabIndex:"0",onKeyDown:function(e){return _(e,t,n,p,s,k)},onKeyUp:P,onClick:T,children:[(!Y||!Y.selected)&&(0,w.jsx)(f.Aside,{persistent:!1,isDevMode:G,childItems:[{name:"ArmoryLib",props:{variant:1}}],clientRect:k,position:"left"}),(0,w.jsx)(f.Main,{children:(0,w.jsx)(f.ComponentContainerWrapper,{clientRect:k,dispatchSelectedComponent:s,dropLocation:C,isDevMode:G,selectedComponent:p,setClientRect:M,setDropLocation:K,socket:W})}),(!Y||!Y.selected)&&(0,w.jsx)(f.Aside,{persistent:!1,isDevMode:G,childItems:[{name:"PropertiesWidget",props:{title:"Component Details",socket:W}},{name:"CodeViewerWidget",props:{title:"Generated Code",dispatchSelectedComponent:s}}],selectedComponent:p,position:"right",styles:{fontSize:"0.8rem"}})]}),(0,w.jsx)(f.ToolActionContainer,{}),Y&&Y.selected&&G&&(0,w.jsx)(f.WidgetContainer,{widgetDragging:Z,ref:z,persistent:!1,isDevMode:G,childItems:[{name:"ArmoryLib",props:{variant:2}},{name:"PropertiesWidget",props:{title:"Component Details",socket:W}},{name:"CodeViewerWidget",props:{title:"Generated Code",dispatchSelectedComponent:s}}],clientRect:k,position:"left"}),(0,w.jsx)(f.Logger,{isDevMode:G,user:m})]})})}))}}]);
//# sourceMappingURL=69.7d661450.chunk.js.map